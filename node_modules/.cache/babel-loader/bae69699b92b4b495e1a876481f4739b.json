{"ast":null,"code":"import _classCallCheck from\"/Users/test/Development/Mod-4-proj/SliceLine_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/test/Development/Mod-4-proj/SliceLine_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/test/Development/Mod-4-proj/SliceLine_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/test/Development/Mod-4-proj/SliceLine_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import MainForm from'../components/MainForm';import Cart from'../components/Cart';import Button from'react-bootstrap/Button';var NewOrder=/*#__PURE__*/function(_Component){_inherits(NewOrder,_Component);var _super=_createSuper(NewOrder);function NewOrder(){var _this;_classCallCheck(this,NewOrder);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id_count:0,pizzas:[]};_this.addToOrder=function(hash,id){var array=_this.state.pizzas;var pizza=hash;pizza.id=id;array.push(pizza);_this.setState({id_count:id+1,pizzas:array});};_this.removePizza=function(id){var pizzas=_this.state.pizzas.filter(function(pizza){return pizza.id!==id;});_this.setState({pizzas:pizzas});};_this.placeOrder=function(){fetch('http://localhost:3000/api/v1/orders',{method:'POST',headers:{'Content-Type':'application/json',Accept:'application/json'},body:JSON.stringify({order:{pizzas:_this.state.pizzas,user_id:_this.props.user_id}})}).then(function(res){return res.json();}).then(function(result){_this.props.confirmOrder(result);_this.setState({id_count:0,pizzas:[]});},function(error){console.log(error.message);});};return _this;}_createClass(NewOrder,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MainForm,{addToOrder:this.addToOrder,id:this.state.id_count,pizzars:this.state.pizzas}),/*#__PURE__*/React.createElement(Cart,{pizzas:this.state.pizzas,removePizza:this.removePizza}),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:this.placeOrder},\"Place Order\"));}}]);return NewOrder;}(Component);export{NewOrder as default};","map":{"version":3,"sources":["/Users/test/Development/Mod-4-proj/SliceLine_Frontend/src/containers/NewOrder.js"],"names":["React","Component","MainForm","Cart","Button","NewOrder","state","id_count","pizzas","addToOrder","hash","id","array","pizza","push","setState","removePizza","filter","placeOrder","fetch","method","headers","Accept","body","JSON","stringify","order","user_id","props","then","res","json","result","confirmOrder","error","console","log","message"],"mappings":"gqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,GACqBC,CAAAA,Q,mUAEnBC,K,CAAQ,CACNC,QAAQ,CAAE,CADJ,CAENC,MAAM,CAAE,EAFF,C,OAKRC,U,CAAa,SAACC,IAAD,CAAOC,EAAP,CAAc,CACzB,GAAMC,CAAAA,KAAK,CAAG,MAAKN,KAAL,CAAWE,MAAzB,CACA,GAAMK,CAAAA,KAAK,CAAGH,IAAd,CACAG,KAAK,CAACF,EAAN,CAAWA,EAAX,CACAC,KAAK,CAACE,IAAN,CAAWD,KAAX,EACA,MAAKE,QAAL,CAAc,CACZR,QAAQ,CAAEI,EAAE,CAAG,CADH,CAEZH,MAAM,CAAEI,KAFI,CAAd,EAID,C,OAEDI,W,CAAc,SAACL,EAAD,CAAQ,CACpB,GAAMH,CAAAA,MAAM,CAAG,MAAKF,KAAL,CAAWE,MAAX,CAAkBS,MAAlB,CAAyB,SAAAJ,KAAK,QAAIA,CAAAA,KAAK,CAACF,EAAN,GAAaA,EAAjB,EAA9B,CAAf,CACA,MAAKI,QAAL,CAAc,CACZP,MAAM,CAANA,MADY,CAAd,EAGD,C,OAEDU,U,CAAa,UAAM,CACjBC,KAAK,CAAC,qCAAD,CAAwC,CAC3CC,MAAM,CAAE,MADmC,CAE3CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAFkC,CAM3CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,KAAK,CAAE,CACLlB,MAAM,CAAE,MAAKF,KAAL,CAAWE,MADd,CAELmB,OAAO,CAAE,MAAKC,KAAL,CAAWD,OAFf,CADY,CAAf,CANqC,CAAxC,CAAL,CAaGE,IAbH,CAaQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAbX,EAcGF,IAdH,CAeI,SAACG,MAAD,CAAY,CACV,MAAKJ,KAAL,CAAWK,YAAX,CAAwBD,MAAxB,EACA,MAAKjB,QAAL,CAAc,CACZR,QAAQ,CAAE,CADE,CAEZC,MAAM,CAAE,EAFI,CAAd,EAID,CArBL,CAsBI,SAAC0B,KAAD,CAAW,CACTC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,EACD,CAxBL,EA0BD,C,2EAEQ,CACP,mBACE,4CACE,oBAAC,QAAD,EAAU,UAAU,CAAE,KAAK5B,UAA3B,CAAuC,EAAE,CAAE,KAAKH,KAAL,CAAWC,QAAtD,CAAgE,OAAO,CAAE,KAAKD,KAAL,CAAWE,MAApF,EADF,cAEE,oBAAC,IAAD,EAAM,MAAM,CAAE,KAAKF,KAAL,CAAWE,MAAzB,CAAiC,WAAW,CAAE,KAAKQ,WAAnD,EAFF,cAGE,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAE,KAAKE,UAArC,gBAHF,CADF,CAQD,C,sBA/DmCjB,S,SAAjBI,Q","sourcesContent":["import React, { Component } from 'react'\nimport MainForm from '../components/MainForm'\nimport Cart from '../components/Cart'\nimport Button from 'react-bootstrap/Button'\nexport default class NewOrder extends Component {\n\n  state = {\n    id_count: 0,\n    pizzas: []\n  }\n\n  addToOrder = (hash, id) => {\n    const array = this.state.pizzas\n    const pizza = hash\n    pizza.id = id\n    array.push(pizza)\n    this.setState({\n      id_count: id + 1,\n      pizzas: array\n    });\n  }\n\n  removePizza = (id) => {\n    const pizzas = this.state.pizzas.filter(pizza => pizza.id !== id)\n    this.setState({\n      pizzas\n    });\n  }\n\n  placeOrder = () => {\n    fetch('http://localhost:3000/api/v1/orders', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        order: {\n          pizzas: this.state.pizzas,\n          user_id: this.props.user_id\n        }\n      })\n    })\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.props.confirmOrder(result);\n          this.setState({\n            id_count: 0,\n            pizzas: []\n          })\n        },\n        (error) => {\n          console.log(error.message)\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <MainForm addToOrder={this.addToOrder} id={this.state.id_count} pizzars={this.state.pizzas} />\n        <Cart pizzas={this.state.pizzas} removePizza={this.removePizza} />\n        <Button variant=\"dark\" onClick={this.placeOrder}>Place Order</Button>\n\n      </div>\n    )\n  }\n}\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}